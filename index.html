<!DOCTYPE html>
<head>
    <style> 
    .clickable {
      color: blue;
      cursor: pointer;
      text-decoration: underline;
    }
    .target {
      background-color: yellow;
    }
  </style>


  <meta charset="UTF-8">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    .item-list {
      list-style-type: none;
      padding: 0;
    }
    .item-list li {
      margin-bottom: 6px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    table th, table td {
      border: 1px solid #ccc;
      padding: 8px;
    }
    table th {
      background-color: #f0f0f0;
    }
  </style>


  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á</title>

  

</head>
<body>
    <center><image src="c:\Users\AdviceDT\OneDrive\Pictures\‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å\495571368_669840272353652_8485833872132209333_n.jpg" width="20%"></image><br></center>
 <br><br><br><br>
    <center>
    <button><h1 ><span class="clickable">‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á</span></h1></button>
    
  <button><h1 ><span class="clickable"> ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á</span></h1></button>
  
   <button><h1 ><span class="clickable"> ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á</span></h1></button>
  
  <button><h1 ><span class="clickable">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á</span></h1></button>
</center>







<center>
    <p style="margin-top: 8000px;">
        <h1><button><span class="target">‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á</span></button></h1>
    </p>
</center>


<h2>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>

<!-- dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
<label for="itemName">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:</label>
<select id="itemName">
  <option disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ --</option>
</select>
<button onclick="promptNewItem()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</button>
<br><br>

<button onclick="editItemName()">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>

<input type="number" id="amount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">
<br><br>

<button onclick="updateStock('+')">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
<button onclick="updateStock('-')">‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
<br><br>

<h3>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á <span id="currentItem">-</span>: <span id="stock">0</span></h3>

<!-- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î -->
<h3> ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô</h3>
<ul id="itemList" class="item-list"></ul>

<!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ -->
<button onclick="toggleHistory()">‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</button>
<br><br>



<!-- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ -->
<div id="historySection"style="display: none;">
  <h3>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á:</h3>
  <table>
    <thead>
      <tr>
        <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
        <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
        <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
        <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</th>
        <th>‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
      </tr>
    </thead>
    <tbody id="logTable"></tbody>
  </table>
</div>

<br><br>


<script>
let stock = {};

function updateStock(op) {
  const select = document.getElementById('itemName');
  const item = select.value;
  const amount = parseInt(document.getElementById('amount').value);
  const now = new Date().toLocaleString();

  if (!item || isNaN(amount)) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");
    return;
  }

  if (!stock[item]) stock[item] = 0;

  if (op === '+') {
    stock[item] += amount;
  } else {
    stock[item] -= amount;
    if (stock[item] < 0) stock[item] = 0;
  }

  document.getElementById('stock').textContent = stock[item];
  document.getElementById('currentItem').textContent = item;

  const row = document.createElement('tr');
  row.innerHTML = `
    <td>${now}</td>
    <td>${item}</td>
    <td>${op === '+' ? '‡πÄ‡∏û‡∏¥‡πà‡∏°' : '‡∏•‡∏î'}</td>
    <td>${amount}</td>
    <td>${stock[item]}</td>
  `;
  document.getElementById('logTable').prepend(row);

  renderItemList();
}

function toggleHistory() {
  const section = document.getElementById('historySection');
  section.style.display = section.style.display === 'none' ? 'block' : 'none';
}

function renderItemList() {
  const itemList = document.getElementById('itemList');
  itemList.innerHTML = '';
  for (let name in stock) {
    const li = document.createElement('li');
    li.textContent = `${name}: ${stock[name]} ‡∏ä‡∏¥‡πâ‡∏ô`;
    itemList.appendChild(li);
  }
}

// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô prompt
function promptNewItem() {
  const newItem = prompt("‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà:");
  if (!newItem) return;

  const select = document.getElementById('itemName');
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ã‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
  for (let i = 0; i < select.options.length; i++) {
    if (select.options[i].value === newItem) {
      alert("‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß");
      return;
    }
  }

  const option = document.createElement('option');
  option.value = newItem;
  option.textContent = newItem;
  select.appendChild(option);
  select.value = newItem;
  stock[newItem] = stock[newItem] || 0;

  renderItemList();
}
function editItemName() {
  const select = document.getElementById('itemName');
  const oldName = select.value;

  if (!oldName) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ä‡∏∑‡πà‡∏≠");
    return;
  }

  const newName = prompt(`‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ "${oldName}" ‡πÄ‡∏õ‡πá‡∏ô:`, oldName);
  if (!newName || newName === oldName) return;

  if (stock[newName]) {
    alert("‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏™‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß");
    return;
  }

  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï stock object
  stock[newName] = stock[oldName];
  delete stock[oldName];

  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï dropdown
  for (let option of select.options) {
    if (option.value === oldName) {
      option.value = newName;
      option.textContent = newName;
    }
  }

  // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏ß‡πâ
  select.value = newName;

  renderItemList();
  document.getElementById('currentItem').textContent = newName;
  document.getElementById('stock').textContent = stock[newName];
}

</script>














<center>
    <p style="margin-top: 8000px;">
        <button><span class="target">‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á</span></button>
    </p>
</center>

<hr>
<h3>üßæ ‡πÉ‡∏ö‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á</h3>

<label for="customerName">‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:</label>
<input type="text" id="customerName">
<br><br>

<label for="deliveryDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
<input type="date" id="deliveryDate">
<br><br>

<!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡πÉ‡∏ö‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á -->
<h4>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h4>
‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: <input type="number" id="deliveryQty" style="width: 60px;">
‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:
<select id="deliveryItem">
  <option disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ --</option>
</select>
‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢: <input type="number" id="deliveryPrice" style="width: 80px;">
<button onclick="addDeliveryItem()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>

<br><br>
<table>
  <thead>
    <tr>
      <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
      <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
      <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
      <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°</th>
    </tr>
  </thead>
  <tbody id="deliveryTableBody"></tbody>
  <tfoot>
    <tr>
      <th colspan="3">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</th>
      <th id="grandTotal">0</th>
    </tr>
  </tfoot>
</table>

<br>

<button onclick="saveDelivery()">üì• ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ö‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á</button>

<script>
// ‡πÄ‡∏ï‡∏¥‡∏° dropdown ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ö‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á
function refreshDeliveryDropdown() {
  const deliverySelect = document.getElementById('deliveryItem');
  deliverySelect.innerHTML = '<option disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ --</option>';
  for (let name in stock) {
    const option = document.createElement('option');
    option.value = name;
    option.textContent = name;
    deliverySelect.appendChild(option);
  }
}
refreshDeliveryDropdown();

// ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
const oldPromptNewItem = promptNewItem;
promptNewItem = function() {
  oldPromptNewItem();
  refreshDeliveryDropdown();
};

let deliveryItems = [];

function addDeliveryItem() {
  const qty = parseInt(document.getElementById('deliveryQty').value);
  const item = document.getElementById('deliveryItem').value;
  const price = parseFloat(document.getElementById('deliveryPrice').value);

  if (!item || isNaN(qty) || isNaN(price)) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô");
    return;
  }

  if (!stock[item] || stock[item] < qty) {
    alert(`‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ "${item}" ‡∏°‡∏µ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á (‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${stock[item] || 0})`);
    return;
  }

  // ‡∏•‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏™‡∏ï‡πá‡∏≠‡∏Å
  stock[item] -= qty;

  // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡πÉ‡∏ö‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á
  const total = qty * price;
  deliveryItems.push({ qty, item, price, total });

  renderDeliveryTable();
  renderItemList(); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠
  updateCurrentStockDisplay(item); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á..."
}

function renderDeliveryTable() {
  const tbody = document.getElementById('deliveryTableBody');
  tbody.innerHTML = '';

  let grandTotal = 0;
  deliveryItems.forEach(entry => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${entry.qty}</td>
      <td>${entry.item}</td>
      <td>${entry.price.toFixed(2)}</td>
      <td>${entry.total.toFixed(2)}</td>
    `;
    tbody.appendChild(row);
    grandTotal += entry.total;
  });

  document.getElementById('grandTotal').textContent = grandTotal.toFixed(2);
}
function updateCurrentStockDisplay(itemName) {
  document.getElementById('currentItem').textContent = itemName;
  document.getElementById('stock').textContent = stock[itemName] || 0;
}

</script>











<center>
    <p style="margin-top: 8000px;">
        <button><span class="target">‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á</span></button>
    </p>
</center>

<hr>
<h3>üì• ‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏•‡∏±‡∏á</h3>

<label for="source">‡∏ó‡∏µ‡πà‡∏°‡∏≤:</label>
<input type="text" id="source">
<br><br>

<label for="receiveDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
<input type="date" id="receiveDate">
<br><br>

‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: <input type="number" id="receiveQty" style="width: 60px;">
‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:
<select id="receiveItem">
  <option disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ --</option>
</select>
<button onclick="addReceiveTempItem()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>

<br><br>
<h4>üìù ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏£‡∏±‡∏ö</h4>
<table>
  <thead>
    <tr>
      <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
      <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
      <th>‡∏•‡∏ö</th>
    </tr>
  </thead>
  <tbody id="receiveTempList"></tbody>
</table>
<br>
<button onclick="confirmReceive()">üì• ‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á</button>

<br><br>
<h4>üìÑ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß</h4>

<button onclick="toggleReceiveList()">‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß</button>
<br><br>
<label for="filterReceiveDate">üîç ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
<input type="date" id="filterReceiveDate">
<button onclick="renderReceiveList()">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>

<div id="receiveList" style="display:none;"></div>

<script>
let receiveTempItems = [];
let receivedRecords = [];
let receiveListVisible = false;

function addReceiveTempItem() {
  const qty = parseInt(document.getElementById('receiveQty').value);
  const item = document.getElementById('receiveItem').value;

  if (!item || isNaN(qty) || qty <= 0) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
    return;
  }

  receiveTempItems.push({ item, qty });
  renderReceiveTempList();
}

function removeTempItem(index) {
  receiveTempItems.splice(index, 1);
  renderReceiveTempList();
}

function renderReceiveTempList() {
  const tbody = document.getElementById('receiveTempList');
  tbody.innerHTML = '';
  receiveTempItems.forEach((entry, index) => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${entry.qty}</td>
      <td>${entry.item}</td>
      <td><button onclick="removeTempItem(${index})">‡∏•‡∏ö</button></td>
    `;
    tbody.appendChild(row);
  });
}

function confirmReceive() {
  const source = document.getElementById('source').value.trim();
  const date = document.getElementById('receiveDate').value;

  if (!source || !date || receiveTempItems.length === 0) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏≤, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£");
    return;
  }

  const groupId = Date.now();

  receiveTempItems.forEach(entry => {
    if (!stock[entry.item]) stock[entry.item] = 0;
    stock[entry.item] += entry.qty;

    const now = new Date().toLocaleString();
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${now}</td>
      <td>${entry.item}</td>
      <td>‡πÄ‡∏û‡∏¥‡πà‡∏° (‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤)</td>
      <td>${entry.qty}</td>
      <td>${stock[entry.item]}</td>
    `;
    document.getElementById('logTable').prepend(row);

    receivedRecords.push({
      source,
      date,
      item: entry.item,
      qty: entry.qty,
      group: groupId
    });
  });

  receiveTempItems = [];
  renderReceiveTempList();
  renderReceiveList();
  renderItemList();
}

function toggleReceiveList() {
  const container = document.getElementById('receiveList');
  receiveListVisible = !receiveListVisible;
  container.style.display = receiveListVisible ? 'block' : 'none';
}

function renderReceiveList() {
  const filterDate = document.getElementById('filterReceiveDate').value;
  const container = document.getElementById('receiveList');

  if (!filterDate) {
    container.innerHTML = '<p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>';
    return;
  }

  container.style.display = receiveListVisible ? 'block' : 'none';
  container.innerHTML = '';

  const filtered = receivedRecords.filter(entry => entry.date === filterDate);

  if (filtered.length === 0) {
    container.innerHTML = '<p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</p>';
    return;
  }

  const grouped = {};
  filtered.forEach(entry => {
    if (!grouped[entry.group]) grouped[entry.group] = { source: entry.source, date: entry.date, items: [] };
    grouped[entry.group].items.push({ item: entry.item, qty: entry.qty });
  });

  Object.values(grouped).reverse().forEach(record => {
    const div = document.createElement('div');
    div.style.marginBottom = '10px';
    div.style.padding = '8px';
    div.style.border = '1px solid #ccc';
    div.innerHTML = `
      <strong>‡∏ó‡∏µ‡πà‡∏°‡∏≤:</strong> ${record.source}<br>
      <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</strong> ${record.date}<br>
      <strong>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:</strong><br>
      <ul>
        ${record.items.map(i => `<li>${i.item} - ${i.qty} ‡∏ä‡∏¥‡πâ‡∏ô</li>`).join('')}
      </ul>
    `;
    container.appendChild(div);
  });
}

function refreshReceiveDropdown() {
  const select = document.getElementById('receiveItem');
  select.innerHTML = '<option disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ --</option>';
  for (let name in stock) {
    const option = document.createElement('option');
    option.value = name;
    option.textContent = name;
    select.appendChild(option);
  }
}

const originalPromptNewItem = promptNewItem;
promptNewItem = function () {
  originalPromptNewItem();
  refreshReceiveDropdown();
};

refreshReceiveDropdown();
</script>





<center>
    <p style="margin-top: 8000px;">
        <button><span class="target">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á</span></button>
    </p>
</center>

<br><br>
<label for="filterDate">üîç ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏≠‡∏á:</label>
<input type="date" id="filterDate" onchange="renderSavedDeliveries()">
<br><br>

<button onclick="toggleSavedDeliveries()">‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î</button>

<h3>üìÑ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
<div id="savedDeliveryList" style="display: block;"></div>

<script>
let savedDeliveries = [];
let savedVisible = true;

function toggleSavedDeliveries() {
  const container = document.getElementById('savedDeliveryList');
  savedVisible = !savedVisible;
  container.style.display = savedVisible ? 'block' : 'none';
}

function saveDelivery() {
  const customerName = document.getElementById('customerName').value.trim();
  const deliveryDate = document.getElementById('deliveryDate').value;

  if (!customerName || !deliveryDate || deliveryItems.length === 0) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£");
    return;
  }

  const grandTotal = deliveryItems.reduce((sum, item) => sum + item.total, 0);

  const data = {
    customer: customerName,
    date: deliveryDate,
    items: [...deliveryItems],
    total: grandTotal
  };

  savedDeliveries.push(data);

  alert("‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ö‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!");
  deliveryItems = [];
  renderDeliveryTable();
  renderSavedDeliveries();
}

function renderSavedDeliveries() {
  const container = document.getElementById('savedDeliveryList');
  const filterDate = document.getElementById('filterDate').value;
  container.innerHTML = '';

  if (!filterDate) {
    container.innerHTML = '<p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡πà‡∏≠‡∏ô</p>';
    return;
  }

  const filtered = savedDeliveries.filter(d => d.date === filterDate);

  if (filtered.length === 0) {
    container.innerHTML = '<p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÉ‡∏ö‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</p>';
    return;
  }

  filtered.forEach(entry => {
    const div = document.createElement('div');
    div.style.border = "1px solid #ccc";
    div.style.padding = "10px";
    div.style.marginBottom = "15px";

    let html = `
      <strong>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:</strong> ${entry.customer}<br>
      <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</strong> ${entry.date}<br><br>
      <table>
        <thead>
          <tr>
            <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
            <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
            <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°</th>
          </tr>
        </thead>
        <tbody>
    `;

    entry.items.forEach(item => {
      html += `
        <tr>
          <td>${item.qty}</td>
          <td>${item.item}</td>
          <td>${item.price.toFixed(2)}</td>
          <td>${item.total.toFixed(2)}</td>
        </tr>
      `;
    });

    html += `
        </tbody>
        <tfoot>
          <tr>
            <th colspan="3">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</th>
            <th>${entry.total.toFixed(2)}</th>
          </tr>
        </tfoot>
      </table>
    `;

    div.innerHTML = html;
    container.appendChild(div);
  });
}

</script>






<p style="margin-top: 8000px;"></p>

<!-- ‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤ -->
<button onclick="scrollToTop()" style="
  position: fixed;
  bottom: 30px;
  right: 30px;
  padding: 10px 15px;
  font-size: 18px;
  border-radius: 50%;
  border: none;
  background-color: #333;
  color: white;
  cursor: pointer;
  box-shadow: 0 0 5px rgba(0,0,0,0.3);
" title="‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô">‚¨Ü</button>

<script>
function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>

  
  <script>
document.querySelectorAll('.clickable').forEach(element => {
  element.addEventListener('click', () => {
    const targetText = element.textContent.trim();
    const targets = document.querySelectorAll('.target');

    for (let target of targets) {
      if (target.textContent.trim() === targetText) {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.style.border = '2px solid red';
        setTimeout(() => target.style.border = '', 1500);
        break;
      }
    }
  });
});
</script>

</body>
</html>